<!doctype html>
<html>
<head>
    <title>HTML5 Progress Bar</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/modernizr.js" type="text/javascript"></script>

    <script>
        var run1 = 0;
        var run2 = 0;
        var run3 = 0;
        var run4 = 0;
        var run5 = 0;
        var run6 = 0;
        var finish1 = 0;
        var finish2 = 0;
        var finish3 = 0;
        var finish4 = 0;
        var finish5 = 0;
        var finish6 = 0;
        checkRace = function () {
            if (run1 > 1300 && finish1 < 1) {
                finish1 = 1;
                $("#ranking").append("<li>player 1 </li>");
            }
            if (run2 > 1300 && finish2 < 1) {
                finish2 = 1;
                $("#ranking").append("<li>player 2 </li>");
            }
            if (run3 > 1300 && finish3 < 1) {
                finish3 = 1;
                $("#ranking").append("<li>player 3 </li>");
            }
            if (run4 > 1300 && finish4 < 1) {
                finish4 = 1;
                $("#ranking").append("<li>player 4 </li>");
            }
            if (run5 > 1300 && finish5 < 1) {
                finish5 = 1;
                $("#ranking").append("<li>player 5 </li>");
            }
            if (run6 > 1300 && finish6 < 1) {
                finish6 = 1;
                $("#ranking").append("<li>player 6 </li>");
            }
        }
        startRace = function () {
            let multi = 6;
            let delay = 50;
            playAlert = setInterval(function () {
                const meter1 = Math.random() * multi;
                run1 = run1 + meter1;
                jQuery("#player1").css({"position": "absolute", "top": "0px", "left": run1 + "px"});
                checkRace();
            }, delay);
            playAlert = setInterval(function () {
                const meter2 = Math.random() * multi;
                run2 = run2 + meter2;
                jQuery("#player2").css({"position": "absolute", "top": "100px", "left": run2 + "px"});
                checkRace();
            }, delay);
            playAlert = setInterval(function () {
                const meter3 = Math.random() * multi;
                run3 = run3 + meter3;
                jQuery("#player3").css({"position": "absolute", "top": "200px", "left": run3 + "px"});
                checkRace();
            }, delay);

            playAlert = setInterval(function () {
                const meter4 = Math.random() * multi;
                run4 = run4 + meter4;
                jQuery("#player4").css({"position": "absolute", "top": "300px", "left": run4 + "px"});
                checkRace();
            }, delay);

            playAlert = setInterval(function () {
                const meter5 = Math.random() * multi;
                run5 = run5 + meter5;
                jQuery("#player5").css({"position": "absolute", "top": "400px", "left": run5 + "px"});
                checkRace();
            }, delay);

            playAlert = setInterval(function () {
                const meter6 = Math.random() * multi;
                run6 = run6 + meter6;
                jQuery("#player6").css({"position": "absolute", "top": "500px", "left": run6 + "px"});
                checkRace();
            }, delay);

            $("#btn_start").hide();
        };
        // clearInterval(playAlert);


    </script>
</head>
<body>

<div id="player_rail">
    <img src="image/player.gif" width="100" id="player1">
    <img src="image/player.gif" width="100" id="player2">
    <img src="image/player.gif" width="100" id="player3">
    <img src="image/player.gif" width="100" id="player4">
    <img src="image/player.gif" width="100" id="player5">
    <img src="image/player.gif" width="100" id="player6">
</div>
<div id="winner_show">
    <ol id="ranking"></ol>
</div>


<div id="wrap">
    <div id="test"></div>
</div>

<div id = "names">
 <ul>
     <li>
         <input type="text" id = "name1"/>
     </li>
     <li>
         <input type="text" id = "name2"/>
     </li>
     <li>
         <input type="text" id = "name3"/>
     </li>
     <li>
         <input type="text" id = "name4"/>
     </li>
     <li>
         <input type="text" id = "name5"/>
     </li>
     <li>
         <input type="text" id = "name6"/>
     </li>
 </ul>

</div>
<button id="btn_start" onclick="startRace()">startAlert</button>
</body>
</html>